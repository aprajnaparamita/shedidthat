â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    SHE ABSOLUTELY JUST DID THAT - ARCHITECTURE                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FRONTEND (Flutter)                               â”‚
â”‚  iOS / Android / Web / macOS / Windows                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Service (api_service.dart) â”‚
                    â”‚   - Detects mode                â”‚
                    â”‚   - Routes requests             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PRODUCTION MODE     â”‚                  â”‚     LOCAL MODE           â”‚
    â”‚   (Non-local)         â”‚                  â”‚   (Debug + Local Flag)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Cloudflare Worker    â”‚                  â”‚   Dart Local Server      â”‚
    â”‚  server.js            â”‚                  â”‚   local_server.dart      â”‚
    â”‚  Port: 443 (HTTPS)    â”‚                  â”‚   Port: 8789             â”‚
    â”‚  Host: api.shedidthat â”‚                  â”‚   Host: localhost        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â”‚                                            â”‚
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘   REQUEST FLOW        â•‘                  â•‘   REQUEST FLOW           â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                â”‚                                            â”‚
                â–¼                                            â–¼
    
    1. CORS Middleware                         1. Logging Middleware
       âœ… Allows all origins                      âœ… Logs requests
                â”‚                                            â”‚
                â–¼                                            â–¼
    2. Sentry Middleware                       2. Rate Limit Middleware
       âœ… Error tracking                          âš ï¸  1 hour window (should be 15 min)
                â”‚                                            â”‚
                â–¼                                            â–¼
    3. Auth Middleware                         3. Auth Middleware
       âœ… Check APP_SECRET                        âš ï¸  Hardcoded secret
       âœ… Check device in KV                      âœ… Check device in Map
                â”‚                                            â”‚
                â–¼                                            â–¼
    4. Rate Limit Middleware                   4. Handler (protectedRouter)
       âœ… 15 min window                           
       âœ… 100 requests max                        
                â”‚                                            
                â–¼                                            
    5. Handler                                  
                â”‚                                            â”‚
                â–¼                                            â–¼

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  /chat Handler        â”‚                  â”‚  /chat Handler           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â–¼                                            â–¼
    Expects: {"messages": [...]}              âŒ Expects: {"messageHistory": [...]}
    Persona: From persona.*.md files          âŒ Persona: "helpful assistant"
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  DeepSeek API Call    â”‚                  â”‚  DeepSeek API Call       â”‚
    â”‚  stream: false        â”‚                  â”‚  stream: true            â”‚
    â”‚  (Get full response)  â”‚                  â”‚  (Stream chunks)         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â–¼                                            â–¼
    Split into words                           Forward chunks directly
    Add 50ms delay per word                    No delay
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Stream to Client     â”‚                  â”‚  Stream to Client        â”‚
    â”‚  data: {"content":"w"}â”‚                  â”‚  data: {"content":"w"}   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â–¼                                            â–¼
    Send: {"done": true,                       Send: {"done": true,
           "speechUrl": "/api/speech/UUID"}           "speechUrl": "/api/speech/UUID"}
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  TTS Generation       â”‚                  â”‚  TTS Generation          â”‚
    â”‚  (Background)         â”‚                  â”‚  (Inline)                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
    Voice Selection:                           Voice Selection:
    âœ… EN: en-US-Journey-F                      âŒ All: en-US-Studio-O
    âœ… TH: th-TH-Neural2-C                      
    âœ… ZH: cmn-CN-Wavenet-D                     
    âœ… Speaking Rate: 1.1                       âŒ Speaking Rate: default (1.0)
                â”‚                                            â”‚
                â–¼                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  KV Cache             â”‚                  â”‚  Memory Map              â”‚
    â”‚  TTL: 60 seconds      â”‚                  â”‚  âŒ TTL: âˆ (never expires)â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                            â”‚
                â–¼                                            â–¼
    Client polls every 200ms                   Client polls every 1000ms
    Max wait: 10 seconds                       Max wait: 10 seconds
                â”‚                                            â”‚
                â–¼                                            â–¼
    Return audio/mpeg                          Return audio/mpeg


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                  ISSUES SUMMARY                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”´ CRITICAL ISSUES:
  1. âŒ Parameter mismatch: "messages" vs "messageHistory" â†’ Local mode broken
  2. âš ï¸  Different streaming: Full-then-chunk vs native-stream â†’ Inconsistent UX

ğŸŸ  HIGH PRIORITY:
  3. âš ï¸  Server starts late (HomeScreen) â†’ Race condition on first use
  4. âš ï¸  No timeout on server startup â†’ App can hang forever

ğŸŸ¡ MEDIUM PRIORITY:
  5. âš ï¸  Rate limit: 15 min vs 60 min â†’ Different experience
  6. âŒ Persona: Rich Jess vs generic assistant â†’ Wrong personality
  7. âŒ TTS voices: Multi-language vs English-only â†’ Wrong voice
  8. âŒ Cache: 60s TTL vs âˆ â†’ Memory leak

ğŸ”µ LOW PRIORITY:
  9. Minor voice name differences
 10. Missing Chinese persona in local
 11. Dead code in api_service.dart
 12. Test parameter mismatch
 13. Missing speaking rate in local

ğŸŸ£ DESIGN ISSUES:
 14. Middleware order differs
 15. No error handling in isolate startup
 16. Polling instead of async/await pattern
 17. Missing CORS in local (not needed but inconsistent)

ğŸ”’ SECURITY:
 18. Hardcoded secret in local server
 19. API secret compiled into client app


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                              STARTUP SEQUENCE                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRODUCTION MODE:                               LOCAL MODE (CURRENT - BROKEN):
                                               
1. App Launch                                  1. App Launch
2. Load storage                                2. Load storage
3. Show SplashScreen                           3. Show SplashScreen
4. User taps "Get Started"                     4. User taps "Get Started"
5. Register device with backend                5. Show HomeScreen
6. Navigate to HomeScreen                      6. âŒ No server running yet!
7. User taps "New Chat"                        7. User taps "New Chat"
8. Send message to backend                     8. HomeScreen._initServer() starts
9. âœ… Works immediately                         9. Spawn isolate
                                               10. Wait for 'started' message
                                               11. â±ï¸  1-2 second delay
                                               12. Register device with local server
                                               13. âš ï¸  If user already sent message â†’ FAIL


LOCAL MODE (AFTER FIX):

1. App Launch
2. Load storage
3. Check if local mode + has been run
4. âœ… Start local server in main.dart
5. Wait for server ready
6. Register device
7. Show HomeScreen
8. User taps "New Chat"
9. Send message to local server
10. âœ… Works immediately


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          DATA FLOW - CHAT MESSAGE                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User types: "She did WHAT?!"

Frontend (chat_screen.dart):
  â”œâ”€ Create Message object with user text
  â”œâ”€ Add to local message list
  â”œâ”€ Save to SharedPreferences
  â””â”€ Call ApiService.chat(messages, deviceId)

ApiService:
  â”œâ”€ Check kDebugMode
  â”œâ”€ Get base URL (prod vs local)
  â”œâ”€ Create HTTP POST request
  â”œâ”€ Add headers: x-app-secret, x-device-id
  â”œâ”€ Set body: {"messages": [...]}  â† This is correct
  â””â”€ Send request

Backend (server.js):                           Local Server (local_server.dart):
  â”œâ”€ Receive request                             â”œâ”€ Receive request
  â”œâ”€ CORS â†’ Auth â†’ RateLimit                     â”œâ”€ Log â†’ RateLimit â†’ Auth
  â”œâ”€ Extract: {messages: messageHistory} âœ…      â”œâ”€ Extract: messageHistory âŒ WRONG KEY
  â”œâ”€ Load persona from .md file âœ…               â”œâ”€ Use hardcoded persona âŒ GENERIC
  â”œâ”€ Call DeepSeek (no streaming)                â”œâ”€ Call DeepSeek (with streaming)
  â”œâ”€ Get full response                           â”œâ”€ Receive chunk: "Oh"
  â”œâ”€ Split: ["Oh", " ", "my", " ", "god..."]    â”œâ”€ Parse SSE format
  â”œâ”€ Stream chunk 1: {"content": "Oh"}           â”œâ”€ Forward: {"content": "Oh"}
  â”œâ”€ Wait 50ms                                   â”œâ”€ Receive chunk: " my"
  â”œâ”€ Stream chunk 2: {"content": " "}            â”œâ”€ Forward: {"content": " my"}
  â”œâ”€ Wait 50ms                                   â”œâ”€ (continues...)
  â”œâ”€ ... (typing effect)                         â”œâ”€ Receive: [DONE]
  â””â”€ Send: {"done": true, "speechUrl": ...}     â””â”€ Send: {"done": true, "speechUrl": ...}

Frontend (chat_screen.dart):
  â”œâ”€ Receive stream chunks
  â”œâ”€ Parse line by line
  â”œâ”€ Look for "data: " prefix
  â”œâ”€ Decode JSON
  â”œâ”€ If content: append to Jess message
  â”œâ”€ If done: save speechUrl
  â””â”€ Call playSpeech(speechUrl)

TTS Generation:
  Backend: waitUntil() - non-blocking âœ…         Local: Inline - blocking âš ï¸
  â”œâ”€ Call Google TTS API                         â”œâ”€ Call Google TTS API
  â”œâ”€ Use language-specific voice âœ…              â”œâ”€ Use EN voice only âŒ
  â”œâ”€ Set speaking rate 1.1 âœ…                    â”œâ”€ Use default rate âŒ
  â”œâ”€ Store in KV with 60s TTL âœ…                 â”œâ”€ Store in Map forever âŒ
  â””â”€ Return                                      â””â”€ Return

Audio Playback:
  â”œâ”€ Frontend requests: GET /api/speech/{uuid}
  â”œâ”€ Server polls cache (200ms vs 1000ms)
  â”œâ”€ Find audio or timeout after 10s
  â”œâ”€ Return audio/mpeg
  â””â”€ Flutter AudioPlayer plays it


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                               FIX PRIORITY                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Priority    â”‚ Issue                        â”‚ Effort   â”‚ Impact               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ CRITICAL â”‚ BUG-001: Parameter mismatch  â”‚ 5 min    â”‚ Makes local mode workâ”‚
â”‚ ğŸ”´ CRITICAL â”‚ BUG-003: Server startup      â”‚ 30 min   â”‚ Fixes race condition â”‚
â”‚ ğŸŸ  HIGH     â”‚ BUG-004: Startup timeout     â”‚ 1 hour   â”‚ Prevents hanging     â”‚
â”‚ ğŸŸ¡ MEDIUM   â”‚ BUG-006: Load personas       â”‚ 2 hours  â”‚ Correct AI behavior  â”‚
â”‚ ğŸŸ¡ MEDIUM   â”‚ BUG-007: TTS languages       â”‚ 1 hour   â”‚ Correct voices       â”‚
â”‚ ğŸŸ¡ MEDIUM   â”‚ BUG-005: Rate limit          â”‚ 5 min    â”‚ Consistency          â”‚
â”‚ ğŸŸ¡ MEDIUM   â”‚ BUG-008: Cache expiration    â”‚ 30 min   â”‚ Prevents memory leak â”‚
â”‚ ğŸ”µ LOW      â”‚ Others                       â”‚ 2 hours  â”‚ Polish               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total estimated time: ~8 hours of development + 3 hours testing = 11 hours
